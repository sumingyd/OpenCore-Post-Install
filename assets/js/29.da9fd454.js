(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{431:function(t,e,a){t.exports=a.p+"assets/img/ioreg-name.a9fb1242.png"},432:function(t,e,a){t.exports=a.p+"assets/img/no-rename-needed.9d685a57.png"},482:function(t,e,a){"use strict";a.r(e);var l=a(10),v=Object(l.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"系统准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统准备"}},[t._v("#")]),t._v(" 系统准备")]),t._v(" "),e("p",[t._v("Table of Contents:")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#检查你需要的重命名"}},[t._v("检查你需要的重命名")]),e("ul",[e("li",[e("a",{attrs:{href:"#查看ioservice"}},[t._v("查看IOService")])])])])])]),e("p"),t._v(" "),e("p",[t._v("所以在我们进行USB映射之前，我们需要设置一些事情:")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/Sniki/OS-X-USB-Inject-All/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("USBInjectAll"),e("OutboundLink")],1),t._v(" 添加到在 EFI/OC/Kexts 和 config.plist -> Kernel -> Add\n"),e("ul",[e("li",[t._v("我们需要这个kext来确保任何没有在ACPI中定义的端口仍然会在macOS中显示，请注意，在Skylake和更新的系统中"),e("em",[t._v("不需要")]),t._v("这一点，因为USB端口是在ACPI中定义的。\n"),e("ul",[e("li",[t._v("因为oem并不总是包括端口，即使在较新的系统上，我们建议所有英特尔用户使用USBInjectAll，直到正确映射。")])])]),t._v(" "),e("li",[t._v("注意，这个"),e("strong",[t._v("不能在AMD")]),t._v("上工作")])])]),t._v(" "),e("li",[t._v("config.plist -> Kernel -> Quirks -> XhciPortLimit -> True\n"),e("ul",[e("li",[t._v("所以我们可以暂时绕过15个端口的限制来映射我们的端口")])])]),t._v(" "),e("li",[t._v("config.plist -> ACPI -> Patch -> EHCI and XHCI ACPI renames")])]),t._v(" "),e("p",[t._v("我们需要这些ACPI重命名的原因是由于与苹果自己的USB映射冲突，有趣的是，即使苹果也有USB映射!你实际上可以在Catalina的IOUSBHostFamily kext -> PlugIns -> AppleUSBHostPlatformProperties.kext中找到苹果的USB地图，虽然较新的mac实际上与他们的ACPI表端口地图代替。")]),t._v(" "),e("p",[t._v("不需要ACPI重命名的smbios:")]),t._v(" "),e("ul",[e("li",[t._v("iMac18,x 及更新版本")]),t._v(" "),e("li",[t._v("MacPro7,1 及更新版本")]),t._v(" "),e("li",[t._v("Macmini8,1 及更新版本")]),t._v(" "),e("li",[t._v("MacBook9,x  及更新版本")]),t._v(" "),e("li",[t._v("MacBookAir8,x  及更新版本")]),t._v(" "),e("li",[t._v("MacBookPro13,x 及更新版本")])]),t._v(" "),e("p",[t._v("因此，对于较旧的SMBIOSes(上面没有列出)，我们需要确保它们的端口映射不连接，而我们尝试自己的USB映射。还有一些端口可能会消失，"),e("strong",[t._v("在")]),t._v("应用这些补丁之前，请检查您的ACPI表中是否有这些端口，因为我们不想给错误的设备打补丁。如果你发现你的USB控制器需要重命名，在重命名之前写下它们的原始名称，这将使USB映射过程更容易:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("XHC1 to SHCI")]),t._v(": Skylake和较旧的SMBIOS需要")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Value")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("XHC1 to SHCI")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Count")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Find")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<58484331>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Limit")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Replace")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<53484349>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Skip")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableLength")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableSignature")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<>")])])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("EHC1 to EH01")]),t._v(": Broadwell和更老版本SMBIOS需要")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Value")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("EHC1 to EH01")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Count")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Find")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<45484331>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Limit")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Replace")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<45483031>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Skip")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableLength")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableSignature")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<>")])])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("EHC2 to EH02")]),t._v(": Broadwell和更老版本SMBIOS需要")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Value")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("EHC2 to EH02")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Count")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Find")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<45484332>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Limit")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Replace")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<45483032>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Skip")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableLength")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<0>")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableSignature")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("<>")])])])]),t._v(" "),e("h2",{attrs:{id:"检查你需要的重命名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检查你需要的重命名"}},[t._v("#")]),t._v(" 检查你需要的重命名")]),t._v(" "),e("p",[t._v("因此，通过重命名，很容易找到你使用的SMBIOS(可以在你的config.plist中找到"),e("code",[t._v("PlatformInfo -> Generic -> SystemProductName")]),t._v(")，并匹配确定你是否需要USB映射:")]),t._v(" "),e("p",[t._v("SMBIOS 只需要 XHC1 重命名:")]),t._v(" "),e("ul",[e("li",[t._v("iMacPro1,1")]),t._v(" "),e("li",[t._v("iMac17,x 和更旧的")]),t._v(" "),e("li",[t._v("MacBookAir7,x")])]),t._v(" "),e("p",[t._v("SMBIOS 需要 XHC1 and EHC1 重命名:")]),t._v(" "),e("ul",[e("li",[t._v("MacPro6,1")]),t._v(" "),e("li",[t._v("Macmini7,1")]),t._v(" "),e("li",[t._v("MacBook8,x")]),t._v(" "),e("li",[t._v("MacBookAir6,x")]),t._v(" "),e("li",[t._v("MacBookPro12,x")])]),t._v(" "),e("p",[t._v("SMBIOS 需要 XHC1, EHC1 和 EHC2 重命名:")]),t._v(" "),e("ul",[e("li",[t._v("iMac16,x 和更旧的")]),t._v(" "),e("li",[t._v("MacPro5,1 和更旧的")]),t._v(" "),e("li",[t._v("Macmini6,x 和更旧的")]),t._v(" "),e("li",[t._v("MacBookAir5,x  和更旧的")]),t._v(" "),e("li",[t._v("MacBookPro11,x 和更旧的")])]),t._v(" "),e("p",[t._v("现在我们知道了SMBIOS需要什么重命名，接下来可以检查USB控制器的名称。")]),t._v(" "),e("h3",{attrs:{id:"查看ioservice"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看ioservice"}},[t._v("#")]),t._v(" 查看IOService")]),t._v(" "),e("p",[t._v("让我们以XHC1为例，执行以下命令:")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("ioreg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" IOService "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" XHC1\n")])])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("如果你看到这个，你需要重命名:")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("如果你看到这个，你不需要重命名:")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("img",{attrs:{src:a(431),alt:""}})]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("img",{attrs:{src:a(432),alt:""}})])])])]),t._v(" "),e("p",[t._v("对所有其他相关的冲突设备(例如EHC1, EHC2)重复此步骤，如表中列出的您的型号。")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("ioreg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" IOService "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" EHC1\nioreg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" IOService "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" EHC2\n")])])]),e("p",[e("strong",[t._v("如果没有返回任何内容(比如正确的图像)")]),t._v("，则不需要任何重命名。")]),t._v(" "),e("p",[e("strong",[t._v("如果返回了3个条目中的一个(如左图所示)")]),t._v("，则需要为返回的内容重命名。")]),t._v(" "),e("p",[t._v("如果你是后者，你现在想要添加所需的ACPI重命名到你的 config.plist -> ACPI -> Patch,您可以在这里找到一个预先制作的文件(注意，您需要启用您需要的那些):")]),t._v(" "),e("ul",[e("li",[e("strong",[e("a",{attrs:{href:"https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/usb-rename.plist",target:"_blank",rel:"noopener noreferrer"}},[t._v("usb-rename.plist"),e("OutboundLink")],1)]),t._v(" "),e("ul",[e("li",[t._v("只需复制所需的补丁到您的config.plist")])])])]),t._v(" "),e("h1",{attrs:{id:"分型方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分型方法"}},[t._v("#")]),t._v(" 分型方法")]),t._v(" "),e("p",[t._v("但现在我们必须分成两部分，这取决于你有什么硬件:")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/usb/intel-mapping/intel.html"}},[t._v("Intel USB 映射")]),t._v(" "),e("ul",[e("li",[t._v("一个更自动化的过程，不过只适用于英特尔")])])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/usb/manual/manual.html"}},[t._v("手动 USB 映射")]),t._v(" "),e("ul",[e("li",[t._v("更多的一步一步的过程，这是正确映射AMD和第三方USB控制器的唯一方法。")])])],1)])])}),[],!1,null,null,null);e.default=v.exports}}]);