(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{351:function(t,e,a){t.exports=a.p+"assets/img/pm-working.6d53e2d0.png"},352:function(t,e,a){t.exports=a.p+"assets/img/pm-not-working.2706013b.png"},353:function(t,e,a){t.exports=a.p+"assets/img/lpm.08edf685.png"},354:function(t,e,a){t.exports=a.p+"assets/img/epp.6a07dbf5.png"},355:function(t,e,a){t.exports=a.p+"assets/img/pm-bias.e9ddc9ce.png"},356:function(t,e,a){t.exports=a.p+"assets/img/done.eb48a26d.png"},357:function(t,e,a){t.exports=a.p+"assets/img/files.30824430.png"},358:function(t,e,a){t.exports=a.p+"assets/img/prgen-run.224e35cf.png"},359:function(t,e,a){t.exports=a.p+"assets/img/prgen-done.543f80ef.png"},464:function(t,e,a){"use strict";a.r(e);var s=a(10),l=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"优化电源管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优化电源管理"}},[t._v("#")]),t._v(" 优化电源管理")]),t._v(" "),e("h2",{attrs:{id:"启用x86platformplugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启用x86platformplugin"}},[t._v("#")]),t._v(" 启用X86PlatformPlugin")]),t._v(" "),e("p",[t._v("因此，在我们根据自己的喜好微调电源管理之前，我们需要首先确保加载了Apple的XCPM核心。请注意，"),e("strong",[t._v("仅在Haswell和更新的")]),t._v("上支持**，Sandy, Ivy Bridge和AMD cpu的消费者应该参考以下内容:")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/universal/pm.html#sandy-and-ivy-bridge-power-management"}},[t._v("Sandy 和 Ivy Bridge 电源管理")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/universal/pm.html#amd-cpu-power-management"}},[t._v("AMD CPU 电源管理")])],1)]),t._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("Ivy Bridge 和 Ivy Bridge-E 说明")]),t._v(" "),e("p",[t._v("苹果在macOS Sierra上放弃了对XCPM的支持，所以XCPM只在10.8.5到10.11.6之间被支持。您仍然需要"),e("RouterLink",{attrs:{to:"/universal/pm.html#sandy-and-ivy-bridge-power-management"}},[t._v("ssdtPRgen")]),t._v("。")],1),t._v(" "),e("p",[t._v("要在10.11或更早的版本中启用XCPM，只需在引导参数中添加"),e("code",[t._v("-xcpm")]),t._v("。")])]),t._v(" "),e("p",[t._v("首先，抓取"),e("a",{attrs:{href:"https://github.com/khronokernel/IORegistryClone/blob/master/ioreg-302.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("IORegistryExplorer"),e("OutboundLink")],1),t._v("并查找"),e("code",[t._v("AppleACPICPU")]),t._v("(注意，如果你使用搜索，IORegistryExplorer不会显示任何找到的子服务。一旦你找到了条目，请确保清除搜索框):")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("XCPM 发现")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("XCPM 缺失")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("img",{attrs:{src:a(351),alt:""}})]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("img",{attrs:{src:a(352),alt:""}})])])])]),t._v(" "),e("p",[t._v("从左边的图片中可以看到，我们附加了X86PlatformPlugin。这意味着苹果的CPU电源管理驱动程序正在工作(CPU的名称并不重要)。如果您看到与右侧图像类似的内容，则可能存在问题。请务必检查以下内容:")]),t._v(" "),e("ul",[e("li",[t._v("SSDT-PLUG."),e("strong",[t._v("aml")]),t._v(" 在你的config.plist和EFI/OC/ACPI中是否同时存在和启用\n"),e("ul",[e("li",[t._v("如果你没有这个，请前往"),e("a",{attrs:{href:"https://sumingyd.github.io/Getting-Started-With-ACPI",target:"_blank",rel:"noopener noreferrer"}},[t._v("开始使用ACPI"),e("OutboundLink")],1),t._v("了解如何制作它")])])]),t._v(" "),e("li",[t._v("将SSDT-PLUG设置为CPU的第一个线程。你可以通过选择列出的第一个CPU(在我们的例子中是"),e("code",[t._v("CP00")]),t._v(")来进行检查，并确保你在属性中看到这一点:")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("macOS 12.3及以上版本不需要SSDT-PLUG。")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("plugin-type | Number | 0x1\n")])])]),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("X99 说明")]),t._v(" "),e("p",[t._v("XCPM不支持Haswell-E和Broadwell-E，这意味着我们需要将CPU ID伪造成一个支持XCPM的模型:")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Haswell-E")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Kernel -> Emulate")]),t._v(":\n"),e("ul",[e("li",[t._v("Cpuid1Data: "),e("code",[t._v("C3060300 00000000 00000000 00000000")])]),t._v(" "),e("li",[t._v("Cpuid1Mask: "),e("code",[t._v("FFFFFFFF 00000000 00000000 00000000")])])])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Broadwell-E")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Kernel -> Emulate")]),t._v(":\n"),e("ul",[e("li",[t._v("Cpuid1Data: "),e("code",[t._v("D4060300 00000000 00000000 00000000")])]),t._v(" "),e("li",[t._v("Cpuid1Mask: "),e("code",[t._v("FFFFFFFF 00000000 00000000 00000000")])])])])])])])]),t._v(" "),e("h2",{attrs:{id:"手动修改电源管理数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#手动修改电源管理数据"}},[t._v("#")]),t._v(" 手动修改电源管理数据")]),t._v(" "),e("p",[t._v("在大多数情况下，macOS自带的CPU电源管理数据可以直接使用。如果您遇到问题，将SMBIOS更改为更适合您的系统的内容将提供不同的数据，并且可能更适合您的用例。在需要手动调优的情况下，大家可以使用CPUFriend注入修改过的电源管理数据，但如果不知道自己在做什么，可能会严重破坏电源管理。")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),e("p",[t._v("在大多数情况下，您不必这样做。请更改您的SMBIOS。")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("这是一个关于如何更改部分电源管理数据的示例。要了解更多信息，请查看"),e("a",{attrs:{href:"https://github.com/acidanthera/CPUFriend/blob/master/Instructions.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("CPUFriend的文档"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("h3",{attrs:{id:"使用cpufriend"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用cpufriend"}},[t._v("#")]),t._v(" 使用CPUFriend")]),t._v(" "),e("p",[t._v("首先，我们需要一些东西:")]),t._v(" "),e("ul",[e("li",[t._v("X86PlatformPlugin 加载\n"),e("ul",[e("li",[t._v("这意味着Sandy Bridge和AMD cpu不支持")])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/acidanthera/CPUFriend/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("CPUFriend"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/corpnewt/CPUFriendFriend",target:"_blank",rel:"noopener noreferrer"}},[t._v("CPUFriendFriend"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"lfm-低频模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lfm-低频模式"}},[t._v("#")]),t._v(" LFM: 低频模式")]),t._v(" "),e("p",[t._v("现在让我们运行CPUFriendFriend.command:")]),t._v(" "),e("p",[e("img",{attrs:{src:a(353),alt:""}})]),t._v(" "),e("p",[t._v("第一次打开CPUFriendFriend时，会出现一个选择LFM值的提示。这可以看作是CPU的最低值，或者是CPU空闲的最低值。这个值可以极大地帮助睡眠正常工作，因为macOS需要能够轻松地从S3(睡眠)转换到S0(唤醒)。")]),t._v(" "),e("p",[t._v("要确定您的LFM值，您可以:")]),t._v(" "),e("ul",[e("li",[t._v("在英特尔的"),e("a",{attrs:{href:"https://ark.Intel.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ARK网站"),e("OutboundLink")],1),t._v("上查找"),e("code",[t._v("TDP-down Frequency")]),t._v(" "),e("ul",[e("li",[t._v("请注意，大多数cpu没有列出一个值，所以你需要自己确定")])])]),t._v(" "),e("li",[t._v("或选择推荐值:")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Generation")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("LFM Value")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Comment")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Broadwell+ 笔记本")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("08")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("相当于 800Mhz")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Broadwell+ 桌面")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0A")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("相当于 1000Mhz")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Haswell/Broadwell HEDT/Server(例如：X99)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0D")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("相当于 1300Mhz")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Skylake+ HEDT/Server(例如X299)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0C")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("相当于 1200Mhz")])])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("注意")]),t._v(":LFM值仅在Broadwell和更新的SMBIOS上可用")]),t._v(" "),e("li",[e("strong",[t._v("注2")]),t._v(":这些值并不是固定不变的，每台机器都有其独特的特性，所以你需要试验哪种最适合你的硬件")])]),t._v(" "),e("p",[t._v("对于这个例子，我们将使用"),e("a",{attrs:{href:"https://ark.Intel.com/content/www/us/en/ark/products/126240/Intel-core-i9-7920x-x-series-processor-16-5m-cache-up-to-4-30-ghz.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("i9 7920x"),e("OutboundLink")],1),t._v("，它具有2.9 GHz的基础时钟，但没有LFM，因此我们将选择1.3 GHz(即。1300 mhz),向上/向下,直到我们找到稳定的方式。")]),t._v(" "),e("ul",[e("li",[t._v("请注意，LFM值只是CPU的乘数，因此您需要适当地调整值\n"),e("ul",[e("li",[t._v("例如。除以100，然后转换为十六进制")])])])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obase=16; 13"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bc")]),t._v("\n")])])]),e("ul",[e("li",[t._v("请注意，1.3Ghz时我们使用的是13，而不是1.3")])]),t._v(" "),e("h3",{attrs:{id:"epp-能源性能偏好"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#epp-能源性能偏好"}},[t._v("#")]),t._v(" EPP: 能源性能偏好")]),t._v(" "),e("p",[e("img",{attrs:{src:a(354),alt:""}})]),t._v(" "),e("p",[t._v("接下来是能源性能偏好，EPP。这告诉macOS将CPU加速到其完整时钟的速度有多快。"),e("code",[t._v("00")]),t._v("会告诉macOS让CPU尽可能快地运行，而"),e("code",[t._v("FF")]),t._v("会告诉macOS慢慢来，让CPU在更长的一段时间内逐步上升。根据你正在做的事情和机器上的散热，你可能想要设置一个介于两者之间的东西。下面的图表可能会有所帮助:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("EPP")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("速度")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("0x00-0x3F")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("最大性能")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("0x40-0x7F")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("均衡性能")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("0x80-0xBF")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("均衡功率")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("0xC0-0xFF")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("最大节能")])])])]),t._v(" "),e("p",[e("strong",[t._v("注意")]),t._v(":只有Skylake和更新的SMBIOS官方支持EPP")]),t._v(" "),e("h3",{attrs:{id:"性能偏差"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#性能偏差"}},[t._v("#")]),t._v(" 性能偏差")]),t._v(" "),e("p",[e("img",{attrs:{src:a(355),alt:""}})]),t._v(" "),e("p",[t._v("最后一项是帮助macOS确定你想从你的CPU中获得什么样的整体性能。一般的建议取决于您的具体设置，而试验确实有助于确定最适合您的设置。")]),t._v(" "),e("h3",{attrs:{id:"清理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#清理"}},[t._v("#")]),t._v(" 清理")]),t._v(" "),e("p",[e("img",{attrs:{src:a(356),alt:""}}),t._v(" "),e("img",{attrs:{src:a(357),alt:""}})]),t._v(" "),e("p",[t._v("一旦完成，你将得到一个cpufrienddataprovider.kext和ssdt_data.aml。你可以根据自己的喜好选择，但我建议使用kext变体，以避免在Windows和Linux中进行数据注入时遇到麻烦。")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("注意")]),t._v(":CPUFriendDataProvider的加载顺序无关紧要，因为它是一个只有plist的kext")]),t._v(" "),e("li",[e("strong",[t._v("注2")]),t._v(":CPUFriend导致的唤醒问题可能是由于不正确的电源管理数据造成的。每个系统都是唯一的，所以你需要尝试，直到你得到一个稳定的配置。内核崩溃将显示"),e("code",[t._v("Sleep Wake failure in efi")]),t._v(".重用旧版本macOS的电源管理数据也会导致问题，所以如果你更新macOS，请重新创建你的数据。您可以创建多个数据并使用OpenCore的MinKernel/MaxKernel功能，以便为每个macOS版本加载不同的电源管理数据。")]),t._v(" "),e("li",[e("strong",[t._v("注3")]),t._v(":如果您选择使用ssdt_data.ml，请注意SSDT-PLUG不再需要。但是这个SSDT的设置在像X99和X299这样的HEDT平台上是有问题的，所以我们强烈推荐使用CPUFriendDataProvider的SSDT-plug.kext代替。")])]),t._v(" "),e("h2",{attrs:{id:"sandy-和-ivy-bridge-电源管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sandy-和-ivy-bridge-电源管理"}},[t._v("#")]),t._v(" Sandy 和 Ivy Bridge 电源管理")]),t._v(" "),e("p",[t._v("在Sandy和Ivy Bridge事件中，消费者电脑与苹果XCPM的连接出现了问题。所以为了解决这个问题我们需要创建自己的电源管理表。")]),t._v(" "),e("p",[t._v("我们需要:")]),t._v(" "),e("ul",[e("li",[t._v("确保CpuPm和Cpu0Ist表"),e("strong",[t._v("不会")]),t._v("被删除")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/Piker-Alpha/ssdtPRGen.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("ssdtPRGen"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("最初，在Ivy Bridge部分的设置中，我们建议用户删除他们的CpuPm和Cpu0Ist，以避免AppleIntelCPUPowerManagement.kext的任何问题。但删除这些表会对Windows中的turbo boost产生不利影响。因此，为了解决这个问题，我们希望保留OEM的表，但我们希望添加一个新表，以补充仅针对macOS的数据。所以一旦我们完成创建CPU-PM表,我们会重新添加OEM的CPU ssdt。")]),t._v(" "),e("p",[t._v("首先，获取您的config.plist，然后转到ACPI -> Delete，并确保这两个部分的"),e("code",[t._v("Enabled")]),t._v("设置为“YES”:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Value")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("All")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Drop CpuPm")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OemTableId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("437075506d000000")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableLength")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableSignature")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("53534454")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Value")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v(":---")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v(":---")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v(":---")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("All")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Drop Cpu0Ist")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OemTableId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4370753049737400")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableLength")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableSignature")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("53534454")])])])]),t._v(" "),e("p",[t._v("完成后，重新启动，然后获取ssdtPRGen并运行它:")]),t._v(" "),e("p",[e("img",{attrs:{src:a(358),alt:""}})]),t._v(" "),e("p",[t._v("完成后，你将在"),e("code",[t._v("/Users/your-name>/Library/ssdtPRGen/ssdt.dsl")]),t._v("下得到一个SSDT.aml, 你可以用快捷键Cmd+Shift+G，然后粘贴"),e("code",[t._v("~/Library/ssdtPRGen/")]),t._v("找到它。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(359),alt:""}})]),t._v(" "),e("p",[t._v("记住现在将它添加到EFI/OC/ACPI和您的config.plist中，我建议将它重命名为SSDT-PM以更容易找到它。")]),t._v(" "),e("p",[t._v("最后，我们可以禁用之前的ACPI -> Delete条目(' Enabled '设置为NO):")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Value")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("All")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Drop CpuPm")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("NO")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OemTableId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("437075506d000000")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableLength")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableSignature")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("53534454")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Value")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v(":---")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v(":---")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v(":---")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("All")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Drop Cpu0Ist")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("NO")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OemTableId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4370753049737400")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableLength")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TableSignature")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("53534454")])])])]),t._v(" "),e("h3",{attrs:{id:"ssdtprgen故障诊断"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssdtprgen故障诊断"}},[t._v("#")]),t._v(" ssdtPRgen故障诊断")]),t._v(" "),e("p",[t._v("虽然ssdtPRgen试图处理与OEM的SSDT的任何不兼容问题，但您可能会发现它在启动时仍然冲突，因为您的OEM已经在"),e("code",[t._v("_INI")]),t._v("或"),e("code",[t._v("_DSM")]),t._v("等部分声明了某些设备或方法。")]),t._v(" "),e("p",[t._v("如果你在启动过程中发现，你会从SSDT-PM得到类似这样的错误:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ACPI Error: Method parse/execution failed [\\_SB._INI] , AE_ALREADY_EXIST\n")])])]),e("p",[t._v("这意味着存在一些冲突，为了解决这个问题，我们建议将ssdtPRgen的信息转换成如下格式:")]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("DefinitionBlock")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ssdt.aml"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SSDT"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"APPLE "')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CpuPm"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x00021500")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("External")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\\_PR_"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CPU0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" DeviceObj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// External Processor definition")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("External")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\\_PR_"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CPU1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" DeviceObj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// External Processor definition")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Scope")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\\_PR_"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CPU0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Processor's scope")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Name")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("APLF"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Zero"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Name")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("APSN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x04")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Name")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("APSS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Package")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  … */")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Method")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ACST"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NotSerialized"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  … */")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  … */")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("请密切关注我们所做的事情:")]),t._v(" "),e("ul",[e("li",[t._v("确保 Processor 对象被移动到 external")]),t._v(" "),e("li",[t._v("将所有 methods 移动到 Processor's scope 内")])]),t._v(" "),e("p",[t._v("要编辑和重新编译SSDT-PM，请参阅这里:"),e("a",{attrs:{href:"https://sumingyd.github.io/Getting-Started-With-ACPI/",target:"_blank",rel:"noopener noreferrer"}},[t._v("开始使用ACPI"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"bios故障诊断"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bios故障诊断"}},[t._v("#")]),t._v(" BIOS故障诊断")]),t._v(" "),e("p",[t._v("对于某些主板，可能需要确保为CPU电源管理设置了以下BIOS选项:")]),t._v(" "),e("ul",[e("li",[t._v("C States: "),e("code",[t._v("True")])]),t._v(" "),e("li",[t._v("P States Coordination: "),e("code",[t._v("SW_ALL")])])]),t._v(" "),e("h2",{attrs:{id:"amd-cpu电源管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#amd-cpu电源管理"}},[t._v("#")]),t._v(" AMD CPU电源管理")]),t._v(" "),e("p",[t._v("虽然macOS可能没有正式支持AMD CPU电源管理，但社区正在努力添加它，特别是"),e("a",{attrs:{href:"https://github.com/trulyspinach/SMCAMDProcessor",target:"_blank",rel:"noopener noreferrer"}},[t._v("AMDRyzenCPUPowerManagement"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[e("strong",[t._v("警告")]),t._v(":这个kext是不稳定的，如果你随机收到内核崩溃或启动问题，请记住这个kext可能是罪魁祸首。")])])}),[],!1,null,null,null);e.default=l.exports}}]);