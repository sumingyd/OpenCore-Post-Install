(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{307:function(e,r,t){e.exports=t.p+"assets/img/uefi-tool.5f61054a.png"},308:function(e,r,t){e.exports=t.p+"assets/img/MSR-Find.1acc4b5a.png"},309:function(e,r){e.exports="data:image/png;base64,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"},453:function(e,r,t){"use strict";t.r(r);var v=t(10),a=Object(v.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"修复cfg锁"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#修复cfg锁"}},[e._v("#")]),e._v(" 修复CFG锁")]),e._v(" "),r("p",[e._v("本指南只推荐给已经安装了macOS的用户，对于第一次安装的用户，请在"),r("code",[e._v("Kernel -> Quirks")]),e._v("中启用"),r("code",[e._v("AppleCpuPmCfgLock")]),e._v(" 和 "),r("code",[e._v("AppleXcpmCfgLock")]),e._v(" 。")]),e._v(" "),r("ul",[r("li",[e._v("注意，本指南只适用于英特尔用户。AMD用户没有任何类型的CFG锁。")])]),e._v(" "),r("h2",{attrs:{id:"什么是cfg-锁"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#什么是cfg-锁"}},[e._v("#")]),e._v(" 什么是CFG-锁")]),e._v(" "),r("p",[e._v("CFG-Lock 是 BIOS 中的一个设置，它允许写入一个特定的寄存器（在这里是 MSR 0xE2）。默认情况下，大多数主板都会锁定这个变量，许多主板甚至在GUI中直接隐藏了这个选项。我们关心的原因是macOS实际上想写这个变量，而不仅仅是macOS的一个部分。相反，内核（XNU）和AppleIntelPowerManagement都想要这个寄存器。")]),e._v(" "),r("p",[e._v("所以要解决这个问题，我们有两个选择。")]),e._v(" "),r("h4",{attrs:{id:"_1-给macos打补丁-使其与我们的硬件一起工作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-给macos打补丁-使其与我们的硬件一起工作"}},[e._v("#")]),e._v(" 1. 给macOS打补丁，使其与我们的硬件一起工作")]),e._v(" "),r("ul",[r("li",[e._v("这对许多人来说会造成不稳定和不必要的修补。")]),e._v(" "),r("li",[e._v("我们为此使用的2个补丁。\n"),r("ul",[r("li",[r("code",[e._v("AppleCpuPmCfgLock")]),e._v("用于AppleIntelPowerManagement.kext")]),e._v(" "),r("li",[r("code",[e._v("AppleXcpmCfgLock")]),e._v("用于内核(XNU)")])])])]),e._v(" "),r("h4",{attrs:{id:"_2-给我们的固件打补丁-以支持msr-e2的编写"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-给我们的固件打补丁-以支持msr-e2的编写"}},[e._v("#")]),e._v(" 2. 给我们的固件打补丁，以支持MSR E2的编写")]),e._v(" "),r("ul",[r("li",[e._v("非常喜欢，因为可以避免打补丁，在稳定性和操作系统升级方面有更大的灵活性。")])]),e._v(" "),r("p",[e._v("注意：基于Penyrn的机器实际上不需要担心解锁这个寄存器。")]),e._v(" "),r("h2",{attrs:{id:"检查你的固件是否支持cfg锁的解锁"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#检查你的固件是否支持cfg锁的解锁"}},[e._v("#")]),e._v(" 检查你的固件是否支持CFG锁的解锁")]),e._v(" "),r("p",[e._v("在进行本指南的其余部分之前，你首先需要检查你的固件是否支持CFG锁的解锁。\n要检查它，你可以通过两种方式进行。")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"#checking-via-opencore-logs"}},[e._v("使用OpenCore的DEBUG版本，检查日志中关于CFG锁的内容")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#checking-via-ControlMsrE2"}},[e._v("使用一个叫做"),r("code",[e._v("ControlMsrE2")]),e._v("的工具，它将加快整个检查过程")])])]),e._v(" "),r("h3",{attrs:{id:"通过opencore日志进行检查"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#通过opencore日志进行检查"}},[e._v("#")]),e._v(" 通过OpenCore日志进行检查")]),e._v(" "),r("p",[e._v("对于喜欢使用DEBUG版本的用户，你要启用OpenCore的DEBUG变体，将"),r("code",[e._v("Target")]),e._v("设置为"),r("code",[e._v("67")]),e._v("，然后启动OpenCore。这将为您提供一个格式为"),r("code",[e._v("opencore-YYY-MM-DD-hhmmss.txt")]),e._v("的文件，位于驱动器的根目录下。")]),e._v(" "),r("p",[e._v("在这个文件中，搜索 "),r("code",[e._v("OCCPU: EIST CFG Lock")]),e._v(":")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("OCCPU: EIST CFG Lock 1\n")])])]),r("p",[e._v("如果它返回"),r("code",[e._v("1")]),e._v("，那么你就按这里的指南进行。"),r("a",{attrs:{href:"#disabling-cfg-lock"}},[e._v("禁用CFG锁")]),e._v("。")]),e._v(" "),r("p",[e._v("否则（即"),r("code",[e._v("0")]),e._v("），没有理由继续，你可以简单地禁用 "),r("code",[e._v("Kernel -> Quirks -> AppleCpuPmCfgLock")]),e._v(" 和 "),r("code",[e._v("Kernel -> Quirks -> AppleXcpmCfgLock")]),e._v(".")]),e._v(" "),r("h3",{attrs:{id:"通过controlmsre2进行检查"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#通过controlmsre2进行检查"}},[e._v("#")]),e._v(" 通过ControlMsrE2进行检查")]),e._v(" "),r("p",[e._v("首先，下载"),r("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("ControlMsrE2"),r("OutboundLink")],1),e._v("，并将该工具添加到"),r("code",[e._v("EFI/OC/Tools")]),e._v("和"),r("code",[e._v("config.plist")]),e._v("中（这可以通过ProperTree的快照功能（即Cmd+R）完成）。接下来，启动OpenCore并选择"),r("code",[e._v("ControlMsrE2.efi")]),e._v("条目。这应该为您提供以下信息之一。")]),e._v(" "),r("ul",[r("li",[e._v("CFG-锁已经启用。")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("This firmware has LOCKED MSR 0xE2 register!\n")])])]),r("ul",[r("li",[e._v("CFG-锁被禁用。")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("This firmware has UNLOCKED MSR 0xE2 register!\n")])])]),r("p",[e._v("对于前者，请在这里继续。"),r("a",{attrs:{href:"#disabling-cfg-lock"}},[e._v("禁用CFG锁")]),e._v("。")]),e._v(" "),r("p",[e._v("对于后者，你不需要做任何CFG-Lock补丁，可以简单地禁用 "),r("code",[e._v("Kernel -> Quirks -> AppleCpuPmCfgLock")]),e._v("和"),r("code",[e._v("Kernel -> Quirks -> AppleXcpmCfgLock")]),e._v("。")]),e._v(" "),r("h2",{attrs:{id:"禁用cfg锁"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#禁用cfg锁"}},[e._v("#")]),e._v(" 禁用CFG锁")]),e._v(" "),r("p",[e._v("所以，你已经创建了EFI文件夹，但在CFG锁之前，你仍然无法启动，因为没有解锁。为了做到这一点，你将需要以下内容。")]),e._v(" "),r("p",[e._v("在你的"),r("code",[e._v("EFI/OC/Tools")]),e._v("文件夹和"),r("code",[e._v("config.plist")]),e._v("中，添加以下工具（这可以用ProperTree的快照功能（即Cmd+R）来完成）。")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/datasone/grub-mod-setup_var/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("修改过的GRUB Shell"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("还有一些应用程序来帮助我们。")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/LongSoft/UEFITool/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("UEFITool"),r("OutboundLink")],1),e._v(" (请确保是UEFITool而不是UEFIExtract)")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/LongSoft/Universal-IFR-Extractor/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Universal-IFR-Extractor"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("最后一个部分，从供应商的网站上抓取你的BIOS。")]),e._v(" "),r("p",[e._v("现在是有趣的部分!")]),e._v(" "),r("h2",{attrs:{id:"手动关闭cfg-lock"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#手动关闭cfg-lock"}},[e._v("#")]),e._v(" 手动关闭CFG-Lock")]),e._v(" "),r("p",[r("strong",[e._v("请注意，只有华硕、微星和华擎的固件可以通过UEFITool直接打开。其他固件需要一个特殊的程序，我们将不直接在本指南中介绍。对于戴尔的固件，请参考"),r("a",{attrs:{href:"https://github.com/dreamwhite/bios-extraction-guide/tree/master/Dell",target:"_blank",rel:"noopener noreferrer"}},[e._v("dreamwhite的指南"),r("OutboundLink")],1)]),e._v("。")]),e._v(" "),r("ol",[r("li",[e._v("用UEFITool打开你的固件，然后找到"),r("code",[e._v("CFG Lock")]),e._v("这个Unicode字符串。如果没有弹出，那么你的固件不支持 "),r("code",[e._v("CFG Lock")]),e._v("，否则继续下去。")])]),e._v(" "),r("p",[r("img",{attrs:{src:t(307),alt:""}})]),e._v(" "),r("ol",[r("li",[r("p",[e._v("你会发现这个字符串是在Setup文件夹中找到的，右击并导出为"),r("code",[e._v("Setup.bin")]),e._v("（甚至是"),r("code",[e._v("Setup.sct")]),e._v("）。")])]),e._v(" "),r("li",[r("p",[e._v("用"),r("code",[e._v("ifrextract")]),e._v("打开你的设置文件，用终端导出为.txt文件。")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("path/to/ifrextract path/to/Setup.bin path/to/Setup.txt\n")])])])]),e._v(" "),r("li",[r("p",[e._v("打开文本文件，搜索"),r("code",[e._v("CFG Lock, VarStoreInfo (VarOffset/VarName):")]),e._v("并注意它后面的偏移量（如："),r("code",[e._v("0x43")]),e._v("）和偏移量后面的VarStore ID（如："),r("code",[e._v("0x3")]),e._v("）。\n"),r("img",{attrs:{src:t(308),alt:""}})])]),e._v(" "),r("li",[r("p",[e._v("搜索"),r("code",[e._v("VarStoreId: 0x3")]),e._v("，其中"),r("code",[e._v("0x3")]),e._v("被替换为你找到的VarStoreId的值，并注意它后面的"),r("code",[e._v("名称")]),e._v("(即："),r("code",[e._v("CpuSetup")]),e._v(")")])])]),e._v(" "),r("p",[r("img",{attrs:{src:t(309),alt:""}})]),e._v(" "),r("ol",[r("li",[r("p",[e._v("运行修改后的GRUB Shell并编写以下命令，其中"),r("code",[e._v("CpuSetup")]),e._v("被替换为你之前提取的VarStore Name，"),r("code",[e._v("0x43")]),e._v("被替换为你之前提取的offset。")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("setup_var_cv CpuSetup 0x43 0x01 0x00\n")])])])])]),e._v(" "),r("p",[e._v("在这一点上，在shell中运行"),r("code",[e._v("reboot")]),e._v("，或者直接重启你的机器。这样一来，你应该已经解开了 "),r("code",[e._v("CFG锁")]),e._v("! 为了验证，你可以运行"),r("a",{attrs:{href:"#checking-if-your-firmware-supports-cfg-lock-unlocking"}},[e._v("Checking if your firmware supports CFG Lock unlocking")]),e._v("中列出的方法来验证变量是否被正确设置，然后最后禁用"),r("code",[e._v("Kernel -> Quirks -> AppleCpuPmCfgLock")]),e._v("和"),r("code",[e._v("Kernel -> Quirks -> AppleXcpmCfgLock")]),e._v("。")]),e._v(" "),r("ul",[r("li",[e._v("请注意，变量偏移量不仅对每块主板是唯一的，甚至对其固件版本也是唯一的。"),r("strong",[e._v("在没有检查的情况下，千万不要尝试使用偏移量。")])])]),e._v(" "),r("p",[e._v("然后你就完成了! 现在你将拥有正确的CPU电源管理")]),e._v(" "),r("p",[r("strong",[e._v("注意")]),e._v("。每次你重新设置你的BIOS时，你都需要再次翻转这个位，确保把它和BIOS的版本一起写下来，以便你知道是哪一个。")]),e._v(" "),r("p",[r("strong",[e._v("注2")]),e._v("。一些 OEM（如联想）可能设置了这个变量，但如果不对 BIOS 进行物理修改就无法解锁，对于这些情况，你可能需要使用 "),r("a",{attrs:{href:"http://ruexe.blogspot.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("RU"),r("OutboundLink")],1),e._v(" 这样的工具。"),r("a",{attrs:{href:"https://www.reddit.com/r/hackintosh/comments/hz2rtm/cfg_lockunlocking_alternative_method/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CFG LOCK/Unlocking - Alternative method"),r("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=a.exports}}]);