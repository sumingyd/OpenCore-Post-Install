(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{289:function(e,t,v){e.exports=v.p+"assets/img/folder-gui.e049d147.png"},290:function(e,t,v){e.exports=v.p+"assets/img/gui.a10019ae.png"},291:function(e,t,v){e.exports=v.p+"assets/img/gui-nouveau.8ad4a7b4.png"},292:function(e,t,v){e.exports=v.p+"assets/img/gui-old.53c75c16.png"},293:function(e,t,v){e.exports=v.p+"assets/img/audio-config.f2261de8.png"},443:function(e,t,v){"use strict";v.r(t);var _=v(10),o=Object(_.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"opencore美化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#opencore美化"}},[e._v("#")]),e._v(" OpenCore美化")]),e._v(" "),t("p",[e._v("本指南将介绍的主要内容:")]),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#设置opencore的gui"}},[e._v("设置OpenCore的GUI")])]),t("li",[t("a",{attrs:{href:"#使用audiodxe设置开机铃声"}},[e._v("使用AudioDxe设置开机铃声")])])])]),t("p"),e._v(" "),t("h2",{attrs:{id:"设置opencore的gui"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置opencore的gui"}},[e._v("#")]),e._v(" 设置OpenCore的GUI")]),e._v(" "),t("p",[e._v("在开始之前，我们需要0.5.7或更新版本，因为这些构建将GUI包含在其他文件中。如果你使用的是较旧的版本，我建议更新:"),t("RouterLink",{attrs:{to:"/universal/update.html"}},[e._v("更新 OpenCore")])],1),e._v(" "),t("p",[e._v("完成之后，我们还需要做几件事:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/acidanthera/OcBinaryData",target:"_blank",rel:"noopener noreferrer"}},[e._v("二进制资源"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenCanopy.efi"),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("注:OpenCanopy.efi必须来自与您的OpenCore文件相同的版本，因为不匹配的文件会导致启动问题")])])])]),e._v(" "),t("p",[e._v("完成这两个操作后，接下来将其添加到EFI分区中:")]),e._v(" "),t("ul",[t("li",[e._v("将"),t("a",{attrs:{href:"https://github.com/acidanthera/OcBinaryData",target:"_blank",rel:"noopener noreferrer"}},[e._v("资源文件夹"),t("OutboundLink")],1),e._v("添加到EFI/OC")]),e._v(" "),t("li",[e._v("添加OpenCanopy.efi到EFI/OC/Drivers")])]),e._v(" "),t("p",[t("img",{attrs:{src:v(289),alt:""}})]),e._v(" "),t("p",[e._v("现在在我们的config.Plist中，我们有4个问题需要解决:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("Misc -> Boot -> PickerMode")]),e._v(": "),t("code",[e._v("External")])]),e._v(" "),t("li",[t("code",[e._v("Misc -> Boot -> PickerAttributes")]),e._v(": "),t("code",[e._v("17")]),e._v(" "),t("ul",[t("li",[e._v("这使鼠标/触控板支持以及从驱动器读取volumeicon.icns，允许macOS安装程序图标出现在选择器中\n"),t("ul",[t("li",[e._v("PickerAttributes的其他设置可以在"),t("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Configuration.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("Configuration.pdf"),t("OutboundLink")],1),e._v("中找到")])])])])]),e._v(" "),t("li",[t("code",[e._v("Misc -> Boot -> PickerVariant")]),e._v(": "),t("code",[e._v("Acidanthera\\GoldenGate")]),e._v(" "),t("ul",[t("li",[e._v("适用变量:\n"),t("ul",[t("li",[t("code",[e._v("Auto")]),e._v(" — 根据默认背景颜色自动选择一组图标。")]),e._v(" "),t("li",[t("code",[e._v("Acidanthera\\Syrah")]),e._v(" — N正常图标设置。")]),e._v(" "),t("li",[t("code",[e._v("Acidanthera\\GoldenGate")]),e._v(" — 新图标集。")]),e._v(" "),t("li",[t("code",[e._v("Acidanthera\\Chardonnay")]),e._v(" — 复古图标集。")])])])])]),e._v(" "),t("li",[e._v("并将OpenCanopy.efi添加到"),t("code",[e._v("UEFI -> Drivers")])])]),e._v(" "),t("p",[e._v("一旦所有这些都保存下来，你就可以重新启动，并看到一个真正的类似mac的GUI:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[e._v("默认的 (Syrah)")]),e._v(" "),t("th",{staticStyle:{"text-align":"left"}},[e._v("新的 (GoldenGate)")]),e._v(" "),t("th",{staticStyle:{"text-align":"left"}},[e._v("老的 (Chardonnay)")])])]),e._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("img",{attrs:{src:v(290),alt:""}})]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("img",{attrs:{src:v(291),alt:""}})]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("img",{attrs:{src:v(292),alt:""}})])])])]),e._v(" "),t("h2",{attrs:{id:"使用audiodxe设置开机铃声"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用audiodxe设置开机铃声"}},[e._v("#")]),e._v(" 使用AudioDxe设置开机铃声")]),e._v(" "),t("p",[e._v("首先，我们需要一些东西:")]),e._v(" "),t("ul",[t("li",[e._v("内置音频输出\n"),t("ul",[t("li",[e._v("USB dac无法工作")]),e._v(" "),t("li",[e._v("GPU音频输出好坏参半")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("AudioDxe"),t("OutboundLink")],1),e._v(" 放到 EFI/OC/Drivers 和 UEFI -> Drivers")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/acidanthera/OcBinaryData",target:"_blank",rel:"noopener noreferrer"}},[e._v("二进制资源"),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("将Resources文件夹添加到EFI/OC中，就像我们对OpenCore GUI部分所做的那样")]),e._v(" "),t("li",[e._v("对于那些空间不足的人，只需要 "),t("code",[e._v("OCEFIAudio_VoiceOver_Boot.mp3")]),e._v("也可以")])])]),e._v(" "),t("li",[e._v("启用日志记录的OpenCore的调试版本\n"),t("ul",[t("li",[e._v("参见"),t("a",{attrs:{href:"https://sumingyd.github.io/OpenCore-Install-Guide/troubleshooting/debug.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenCore调试"),t("OutboundLink")],1),e._v("了解更多信息")]),e._v(" "),t("li",[e._v("注意:在完成设置后，您可以恢复到发布版本")])])])]),e._v(" "),t("p",[t("strong",[e._v("设置NVRAM")]),e._v(":")]),e._v(" "),t("ul",[t("li",[e._v("NVRAM -> Add -> 7C436110-AB2A-4BBB-A880-FE41995C9F82:\n"),t("ul",[t("li",[t("code",[e._v("SystemAudioVolume | Data | 0x46")])]),e._v(" "),t("li",[e._v("这是启动编码器和屏幕阅读器的音量，注意它是十六进制的，因此将变成十进制的"),t("code",[e._v("70")]),e._v(";"),t("code",[e._v("0x80")]),e._v("是静音的")])])])]),e._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[e._v("可选NVRAM表项")]),e._v(" "),t("ul",[t("li",[e._v("NVRAM -> Add -> 7C436110-AB2A-4BBB-A880-FE41995C9F82:\n"),t("ul",[t("li",[t("code",[e._v("StartupMute | Data | 0x00")])]),e._v(" "),t("li",[e._v("在固件音频支持中静音启动铃声;"),t("code",[e._v("0x00")]),e._v("是未静音的，不填写变量或填写任何其他值都意味着静音")])])])])]),e._v(" "),t("p",[t("strong",[e._v("设置UEFI -> Audio:")])]),e._v(" "),t("ul",[t("li",[t("p",[t("strong",[e._v("AudioCodec:")]),e._v(" (Number)")]),e._v(" "),t("ul",[t("li",[e._v("音频控制器编解码器地址。这通常包含第一个音频编解码器地址装入的模拟音频控制器(HDEF)。失效保护值为0。")]),e._v(" "),t("li",[e._v("找到你的:\n"),t("ul",[t("li",[t("p",[e._v("检查"),t("a",{attrs:{href:"https://github.com/khronokernel/IORegistryClone/blob/master/ioreg-302.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("IORegistryExplorer"),t("OutboundLink")],1),e._v(" -> HDEF -> AppleHDAController -> IOHDACodecDevice并查看"),t("code",[e._v("IOHDACodecAddress")]),e._v("属性(例如:"),t("code",[e._v("0x0")]),e._v(")")])]),e._v(" "),t("li",[t("p",[e._v("也可以通过终端进行检查(注意，如果出现多个设备，请使用供应商ID查找正确的设备):")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("ioreg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-rxn")]),e._v(" IOHDACodecDevice "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" VendorID   "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 列出所有可能的设备")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sh")]),e._v(" ioreg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-rxn")]),e._v(" IOHDACodecDevice "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" IOHDACodecAddress "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 获取编解码器地址")]),e._v("\n")])])])])])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("AudioDevice:")]),e._v(" (String)")]),e._v(" "),t("ul",[t("li",[e._v("音频控制器的设备路径(PciRoot)")]),e._v(" "),t("li",[e._v("运行"),t("a",{attrs:{href:"https://github.com/acidanthera/gfxutil/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("gfxutil"),t("OutboundLink")],1),e._v("找到路径:\n"),t("ul",[t("li",[t("code",[e._v("/path/to/gfxutil -f HDEF")])]),e._v(" "),t("li",[e._v("例如: "),t("code",[e._v("PciRoot(0x0)/Pci(0x1f,0x3)")])])])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("AudioOutMask:")]),e._v(" (Number)")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("在UEFI中播放声音到多个声道(例如主扬声器加低音扬声器)。失效保护的值是"),t("code",[e._v("-1")]),e._v("(输出到所有)。")])]),e._v(" "),t("li",[t("p",[e._v("输出通道在内部编号为比特"),t("code",[e._v("0")]),e._v("(值"),t("code",[e._v("1")]),e._v(")，比特"),t("code",[e._v("1")]),e._v("(值"),t("code",[e._v("2")]),e._v(")等等。值"),t("code",[e._v("1")]),e._v("表示第一个音频输出(不一定是主扬声器)。值"),t("code",[e._v("-1")]),e._v("用于同时向所有通道播放。")])]),e._v(" "),t("li",[t("p",[e._v("启用AudioSupport时，AudioDevice必须为空或有效路径，并且AudioOutMask必须非零")])]),e._v(" "),t("li",[t("p",[e._v("找到正确输出的最简单方法是遍历每个输出(从2^0到2^(N - 1)，其中N是日志中列出的输出数量);例如:5个输出将转换为1/2/4/8/16(或这些值的组合)作为可能的值")])]),e._v(" "),t("li",[t("p",[e._v("你可以在OpenCore调试日志中找到你的所有编解码器:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("06:065 00:004 OCAU: Matching PciRoot(0x0)/Pci(0x1F,0x3)/VenMsg(A9003FEB-D806-41DB-A491-5405FEEF46C3,00000000)...\n06:070 00:005 OCAU: 1/2 PciRoot(0x0)/Pci(0x1F,0x3)/VenMsg(A9003FEB-D806-41DB-A491-5405FEEF46C3,00000000) (5 outputs) - Success\n")])])])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("AudioSupport:")]),e._v(" (Boolean)")]),e._v(" "),t("ul",[t("li",[e._v("设置为 "),t("code",[e._v("True")])]),e._v(" "),t("li",[e._v("启用此设置将音频播放从内置协议路由到指定音频控制器(AudioDevice)上指定编解码器(AudioCodec)的指定专用音频端口(AudioOutMask)")])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("DisconnectHDA:")]),e._v(" (Boolean)")]),e._v(" "),t("ul",[t("li",[e._v("设置为 "),t("code",[e._v("False")])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("MaximumGain:")]),e._v(" (Number)")]),e._v(" "),t("ul",[t("li",[e._v("用于UEFI音频的最大增益，以分贝(dB)指定，相对于放大器参考电平0 dB")]),e._v(" "),t("li",[e._v("设置为 "),t("code",[e._v("-15")])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("MinimumAssistGain:")]),e._v(" (Number)")]),e._v(" "),t("ul",[t("li",[e._v("用于picker音频辅助的最小增益分贝(dB)。如果从SystemAudioVolumeDB NVRAM变量读取的系统放大器增益低于此值，则屏幕阅读器将使用此放大器增益")]),e._v(" "),t("li",[e._v("设置为 "),t("code",[e._v("-30")])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("MinimumAudibleGain:")]),e._v(" (Number)")]),e._v(" "),t("ul",[t("li",[e._v("尝试播放任何声音的最小增益分贝(dB)")]),e._v(" "),t("li",[e._v("设置为 "),t("code",[e._v("-55")])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("PlayChime:")]),e._v(" (String)")]),e._v(" "),t("ul",[t("li",[e._v("设置为 "),t("code",[e._v("Enabled")])]),e._v(" "),t("li",[e._v("支持的值为:\n"),t("ul",[t("li",[t("code",[e._v("Auto")]),e._v(" — 当StartupMute NVRAM变量不存在或设置为00时启用铃声")]),e._v(" "),t("li",[t("code",[e._v("Enabled")]),e._v(" — 无条件启用铃声")]),e._v(" "),t("li",[t("code",[e._v("Disabled")]),e._v(" — 无条件禁用铃声")])])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("ResetTrafficClass:")]),e._v(" (Boolean)")]),e._v(" "),t("ul",[t("li",[e._v("设置为 "),t("code",[e._v("False")])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("SetupDelay:")]),e._v(" (Number)")]),e._v(" "),t("ul",[t("li",[e._v("默认值为"),t("code",[e._v("0")])]),e._v(" "),t("li",[e._v("有些解码器需要额外的设置时间，如果你有问题，我们建议设置为"),t("code",[e._v("500")]),e._v("毫秒(0.5秒)")])])])]),e._v(" "),t("p",[e._v("一旦完成，你应该会得到这样的结果:")]),e._v(" "),t("p",[t("img",{attrs:{src:v(293),alt:""}})]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("信息")]),e._v(" "),t("p",[e._v("有像Realtek ALC295 (HP等)这样的编解码器，其默认音频采样率为48 kHz。在这种情况下，即使编解码器支持44.1 kHz，声音输出也会失败。目前解决这个问题的唯一方法是更改"),t("code",[e._v("OCEFIAudio_VoiceOver_Boot.mp3")]),e._v("的采样率文件或使用音频编辑工具将它从44.1 kHz提高到48 kHz。这必须手动完成，因为OpenCore没有自动机制。")])]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("信息")]),e._v(" "),t("p",[t("strong",[e._v("视障人士注意事项")]),e._v(":")]),e._v(" "),t("ul",[t("li",[e._v("OpenCore没有忘记您!使用AudioDxe设置，您可以通过以下2个设置启用选择器音频和文件库语音转换:\n"),t("ul",[t("li",[t("code",[e._v("Misc -> Boot -> PickerAudioAssist -> True")]),e._v(" 启用选择器音频")]),e._v(" "),t("li",[t("code",[e._v("UEFI -> ProtocolOverrides -> AppleAudio -> True")]),e._v(" 启动文件库语音转换")])])]),e._v(" "),t("li",[e._v("请参阅"),t("RouterLink",{attrs:{to:"/universal/Security.html"}},[e._v("安全和文件库")]),e._v("了解如何设置其余的文件以获得适当的文件库支持。")],1)])])])}),[],!1,null,null,null);t.default=o.exports}}]);